@using MyGarage
@using MyGarage.Models;
<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    </head>
    <body>
  @model dynamic
@{
    ViewData["Title"] = "Отправка в рейс";
}
<form class="form-inline">
    <label>Выберите гараж:</label>
    <select name="IdGarage" class="form-control">
        @foreach(Garage garage in Model.Garages)
        {
            @if(garage.Id!=0)
            {
            <option value="@garage.Id">Гараж №@garage.Id в городе @garage.Sity</option>       
            }
        }
   </select>
    <label>Выберите машину:</label>
    <select name="IdTransport" class="form-control">

        @foreach(ITransport p in Model.Transport )
        {
            <option value="@p.IdTr">@p.IdTr  @p.brand номерной знак: @p.namber</option>
        }
    </select>
    <label>Выберите количество груза или людей:</label>    
      <p><input name="load"></p>   
    <input type="submit" value="выбрать"/>
</form>
<div class="text-center">
    <h4 class="display-4">В рейсе находятся</h4>   
</div>
<table class="table">
    @if(Model.Exept)
    {
    foreach (ITransport p in Model.SendTransport)
         {
               <tr><td>@p.IdTr</td><td>@p.brand</td><td>@p.namber</td>
               <td>@p.fuelType</td><td>@p.fuelQuantity</td></tr>
         }
    }
    else
         {
               <tr><td>Такой машины нет в выбраном гараже, эта машина находится в рейсе, сделайте выбор еще раз</td></tr>
         }

</table>
<div class="text-center">
    <h6 class="display-4">В гаражах находятся</h6>  
</div>
<table class="table">
    @foreach(Garage garage in Model.Garages)
    {
        if (garage.Id != 0)
        {
            <tr><td>Гараж № @garage.Id</td><td> в городе @garage.Sity</td></tr>

            foreach (ITransport p in garage.transportOnGarage)
            {
                <tr><td>@p.IdTr</td><td>@p.brand</td><td>@p.namber</td><td>@p.fuelType</td><td>@p.fuelQuantity</td></tr>
            }
        }
        else
        {
            <tr><td>Id</td><td>Марка</td><td>номер</td><td>вид топлива</td><td>количество топлива</td></tr>
        }
    } 
</table>

    

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    </body>
</html>